<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>IGA framework: /home/juan/xul_ga/igap/gui/display_panel.py Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>/home/juan/xul_ga/igap/gui/display_panel.py</h1><a href="display__panel_8py.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespacegui_1_1display__panel.html">00001</a> <span class="keyword">import</span> wx
<a name="l00002"></a>00002 <span class="keyword">from</span> iga.gacommon <span class="keyword">import</span> gaParams
<a name="l00003"></a>00003 
<a name="l00004"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html">00004</a> <span class="keyword">class </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html">DisplayPanel</a>(wx.Panel):
<a name="l00005"></a>00005 
<a name="l00006"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#f04da04ae79a9a008bd6b495a61ac7b1">00006</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#f04da04ae79a9a008bd6b495a61ac7b1">__init__</a>(self, parent):
<a name="l00007"></a>00007 
<a name="l00008"></a>00008         wx.Panel.__init__(self, parent = parent, style=wx.DOUBLE_BORDER)
<a name="l00009"></a>00009 
<a name="l00010"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">00010</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a> = wx.BoxSizer(wx.VERTICAL)
<a name="l00011"></a>00011         self.SetSizer(self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>)
<a name="l00012"></a>00012         self.SetBackgroundColour(<span class="stringliteral">'BLACK'</span>)
<a name="l00013"></a>00013         self.SetForegroundColour(<span class="stringliteral">'WHITE'</span>)
<a name="l00014"></a>00014 
<a name="l00015"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#5657d60be2ca626d9796ad5136d51a44">00015</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#5657d60be2ca626d9796ad5136d51a44">best</a> = <span class="keywordtype">None</span>
<a name="l00016"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#dcbd1af11ab8d4421b26f7da7cbb55e8">00016</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#dcbd1af11ab8d4421b26f7da7cbb55e8">worst</a> = <span class="keywordtype">None</span>
<a name="l00017"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#752cdccb193f5d14b65efddabdc493af">00017</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#752cdccb193f5d14b65efddabdc493af">parent</a> = parent
<a name="l00018"></a>00018         <span class="keywordflow">if</span> gaParams.params[<span class="stringliteral">'application'</span>].has_key(<span class="stringliteral">'feedback'</span>):
<a name="l00019"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">00019</a>             self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">feedback_option</a> = gaParams.params[<span class="stringliteral">'application'</span>][<span class="stringliteral">'feedback'</span>] 
<a name="l00020"></a>00020         <span class="keywordflow">else</span>:
<a name="l00021"></a>00021             self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">feedback_option</a> = [<span class="stringliteral">'Best'</span>]
<a name="l00022"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">00022</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a> = [-1] * len(self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">feedback_option</a>)
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">#------------------------------------------#</span>
<a name="l00025"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#e42a8fdc78847c635b6581707f906416">00025</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#e42a8fdc78847c635b6581707f906416">onFeedback</a>(self, event_object, panel):
<a name="l00026"></a>00026         <span class="stringliteral">'''</span>
<a name="l00027"></a>00027 <span class="stringliteral">        We keep track of user input by matching</span>
<a name="l00028"></a>00028 <span class="stringliteral">        the push button to its label.</span>
<a name="l00029"></a>00029 <span class="stringliteral">        '''</span>
<a name="l00030"></a>00030         feedback = self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a>
<a name="l00031"></a>00031         label = event_object.GetLabel()
<a name="l00032"></a>00032         f_option = self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">feedback_option</a>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034         new_feedback = self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6705cac4468eec46d96b4ccb982070d4">child_panels</a>.index(panel)
<a name="l00035"></a>00035         feedback_index = f_option.index(label)
<a name="l00036"></a>00036         <span class="comment"># if any selected, then unselect - for visual effect</span>
<a name="l00037"></a>00037         <span class="keywordflow">if</span> feedback[feedback_index] &gt;= 0 <span class="keywordflow">and</span> feedback[feedback_index] != new_feedback:
<a name="l00038"></a>00038             self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6705cac4468eec46d96b4ccb982070d4">child_panels</a>[feedback[feedback_index]].unselect(feedback_index)
<a name="l00039"></a>00039         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a>[feedback_index] = new_feedback
<a name="l00040"></a>00040 
<a name="l00041"></a>00041         <span class="keywordflow">print</span> event_object.GetLabel()
<a name="l00042"></a>00042         <span class="keywordflow">print</span> self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6705cac4468eec46d96b4ccb982070d4">child_panels</a>.index(panel)
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">#------------------------------------------#</span>
<a name="l00046"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#055bd2098cf6261c59b2e095caae9ea9">00046</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#055bd2098cf6261c59b2e095caae9ea9">getUserInput</a>(self):
<a name="l00047"></a>00047         <span class="keywordflow">print</span> self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a>
<a name="l00048"></a>00048         error = <span class="stringliteral">''</span>
<a name="l00049"></a>00049         <span class="keywordflow">for</span> fb,opt <span class="keywordflow">in</span> zip(self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a>, self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#502b9b713732a51980210ec06a212694">feedback_option</a>):
<a name="l00050"></a>00050             <span class="keywordflow">if</span> fb &lt; 0:
<a name="l00051"></a>00051                 error += <span class="stringliteral">' %s,'</span> % opt
<a name="l00052"></a>00052 
<a name="l00053"></a>00053         <span class="keywordflow">if</span> error:
<a name="l00054"></a>00054             error = error[:-1]
<a name="l00055"></a>00055             msg = <span class="stringliteral">'Please provide feedback for: %s\n'</span> % error
<a name="l00056"></a>00056             msgDialog = wx.MessageDialog(self, msg, <span class="stringliteral">'Enter Feedback'</span>,
<a name="l00057"></a>00057                     style = wx.ICON_ERROR )
<a name="l00058"></a>00058             
<a name="l00059"></a>00059             msgDialog.ShowModal()
<a name="l00060"></a>00060             msgDialog.Destroy()
<a name="l00061"></a>00061             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         <span class="keywordflow">return</span> self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#ed51459e21f68e877b4625561d40f985">user_feedback</a>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="comment">#------------------------------------------#</span>
<a name="l00067"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#130d536e32dcafa2f81210988ce292cf">00067</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#130d536e32dcafa2f81210988ce292cf">addPanels</a>(self, panels, expand = True):
<a name="l00068"></a>00068         panel_num = len(panels)
<a name="l00069"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6705cac4468eec46d96b4ccb982070d4">00069</a>         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6705cac4468eec46d96b4ccb982070d4">child_panels</a> = panels
<a name="l00070"></a>00070         rowSize = 3
<a name="l00071"></a>00071 
<a name="l00072"></a>00072         <span class="keywordflow">if</span> gaParams.getVar(<span class="stringliteral">'gui'</span>):
<a name="l00073"></a>00073             space = (5, 5)
<a name="l00074"></a>00074         <span class="keywordflow">else</span>:
<a name="l00075"></a>00075             space = (20, 20)
<a name="l00076"></a>00076 
<a name="l00077"></a>00077         <span class="keywordflow">if</span> gaParams.params.has_key(<span class="stringliteral">'rowSize'</span>):
<a name="l00078"></a>00078             rowSize = gaParams.params[<span class="stringliteral">'rowSize'</span>] 
<a name="l00079"></a>00079 
<a name="l00080"></a>00080         <span class="keywordflow">if</span> expand:
<a name="l00081"></a>00081             <span class="keyword">def </span>addtorow(row, panel):
<a name="l00082"></a>00082                 row.Add(panel, 1, wx.EXPAND)
<a name="l00083"></a>00083         <span class="keywordflow">else</span>:
<a name="l00084"></a>00084             <span class="keyword">def </span>addtorow(row, panel):
<a name="l00085"></a>00085                 row.Add(panel, 1)
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>.AddSpacer(space)
<a name="l00088"></a>00088         self.SetFont(wx.Font(11, wx.SWISS, wx.NORMAL,wx.FONTWEIGHT_BOLD))
<a name="l00089"></a>00089         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>.Add(wx.StaticText(self, -1, <span class="stringliteral">'My Genomes'</span>), 0, wx.ALIGN_CENTER|wx.EXPAND)
<a name="l00090"></a>00090         self.SetFont(wx.SystemSettings.GetFont(1))
<a name="l00091"></a>00091 
<a name="l00092"></a>00092         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(0, len(panels), rowSize):
<a name="l00093"></a>00093             row = wx.BoxSizer(wx.HORIZONTAL)
<a name="l00094"></a>00094             row.AddSpacer(space)
<a name="l00095"></a>00095             num_cols = min(rowSize, len(panels)-i)
<a name="l00096"></a>00096 
<a name="l00097"></a>00097             <span class="keywordflow">for</span> j <span class="keywordflow">in</span> xrange(num_cols):
<a name="l00098"></a>00098                 addtorow(row, panels[i+j])
<a name="l00099"></a>00099 
<a name="l00100"></a>00100             row.AddSpacer(space)
<a name="l00101"></a>00101             addtorow(self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>, row)
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>.AddSpacer(space)
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         self.Layout()
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">#------------------------------------------#</span>
<a name="l00108"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#b070ba88afaf78f1cbe31d93b81a6b1e">00108</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#b070ba88afaf78f1cbe31d93b81a6b1e">addUIPanel</a>(self, panel):
<a name="l00109"></a>00109         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>.Add(panel)
<a name="l00110"></a>00110         self.Layout()
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="comment">#------------------------------------------#</span>
<a name="l00113"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#fe13a2d46abd2d68eac3e2fd096a84bd">00113</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#fe13a2d46abd2d68eac3e2fd096a84bd">fit</a>(self):
<a name="l00114"></a>00114         self.Layout()
<a name="l00115"></a>00115         <span class="comment">#self.sizer.Fit(self)</span>
<a name="l00116"></a>00116         <span class="comment">#self.sizer.SetSizeHints(self)</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">#------------------------------------------#</span>
<a name="l00119"></a><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#7f0560f6eb3bf2cab0325d713483555a">00119</a>     <span class="keyword">def </span><a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#7f0560f6eb3bf2cab0325d713483555a">clear</a>(self):
<a name="l00120"></a>00120         <span class="comment">#self.sizer.DeleteWindows()</span>
<a name="l00121"></a>00121         self.<a class="code" href="classgui_1_1display__panel_1_1DisplayPanel.html#6494444f29f4a213fb79872afb19a1bf">sizer</a>.Clear(<span class="keyword">True</span>)
<a name="l00122"></a>00122         self.Layout()
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Nov 27 11:56:03 2007 for IGA framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
